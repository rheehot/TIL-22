<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>행정구역 병합하여 보여주기 | Today I Learned</title>
    <meta name="description" content="Today I Learned generated by vuepress">
    <link rel="icon" href="/TIL/logo.png">
    
    <link rel="preload" href="/TIL/assets/css/styles.5d865422.css" as="style"><link rel="preload" href="/TIL/assets/js/app.5d865422.js" as="script"><link rel="preload" href="/TIL/assets/js/118.8a35b174.js" as="script"><link rel="prefetch" href="/TIL/assets/js/1.1ca4847f.js"><link rel="prefetch" href="/TIL/assets/js/10.b7cfda51.js"><link rel="prefetch" href="/TIL/assets/js/100.ebde76fa.js"><link rel="prefetch" href="/TIL/assets/js/101.256d47a6.js"><link rel="prefetch" href="/TIL/assets/js/102.d60c279f.js"><link rel="prefetch" href="/TIL/assets/js/103.020761b1.js"><link rel="prefetch" href="/TIL/assets/js/104.371212e9.js"><link rel="prefetch" href="/TIL/assets/js/105.50095783.js"><link rel="prefetch" href="/TIL/assets/js/106.711e1229.js"><link rel="prefetch" href="/TIL/assets/js/107.2932a3b9.js"><link rel="prefetch" href="/TIL/assets/js/108.500082d4.js"><link rel="prefetch" href="/TIL/assets/js/109.e5e75d29.js"><link rel="prefetch" href="/TIL/assets/js/11.820f2c48.js"><link rel="prefetch" href="/TIL/assets/js/110.4d223fdd.js"><link rel="prefetch" href="/TIL/assets/js/111.1abfecc6.js"><link rel="prefetch" href="/TIL/assets/js/112.bd130b37.js"><link rel="prefetch" href="/TIL/assets/js/113.2c2e1b2e.js"><link rel="prefetch" href="/TIL/assets/js/114.1db792f5.js"><link rel="prefetch" href="/TIL/assets/js/115.61cf7e6e.js"><link rel="prefetch" href="/TIL/assets/js/116.d837056c.js"><link rel="prefetch" href="/TIL/assets/js/117.7f3a9059.js"><link rel="prefetch" href="/TIL/assets/js/119.20e13a7b.js"><link rel="prefetch" href="/TIL/assets/js/12.fa20e223.js"><link rel="prefetch" href="/TIL/assets/js/120.20f9e64f.js"><link rel="prefetch" href="/TIL/assets/js/121.187e03f8.js"><link rel="prefetch" href="/TIL/assets/js/122.9c991f90.js"><link rel="prefetch" href="/TIL/assets/js/123.7b18dfa7.js"><link rel="prefetch" href="/TIL/assets/js/124.ab409c82.js"><link rel="prefetch" href="/TIL/assets/js/125.5b1b50bd.js"><link rel="prefetch" href="/TIL/assets/js/13.295bc8f4.js"><link rel="prefetch" href="/TIL/assets/js/14.89c8c022.js"><link rel="prefetch" href="/TIL/assets/js/15.0579041a.js"><link rel="prefetch" href="/TIL/assets/js/16.d0566be5.js"><link rel="prefetch" href="/TIL/assets/js/17.8e1a5843.js"><link rel="prefetch" href="/TIL/assets/js/18.8116162e.js"><link rel="prefetch" href="/TIL/assets/js/19.9edaf6a1.js"><link rel="prefetch" href="/TIL/assets/js/2.1fb6b0c4.js"><link rel="prefetch" href="/TIL/assets/js/20.0c934a90.js"><link rel="prefetch" href="/TIL/assets/js/21.a4e4c38b.js"><link rel="prefetch" href="/TIL/assets/js/22.dfbd268e.js"><link rel="prefetch" href="/TIL/assets/js/23.b4dc142d.js"><link rel="prefetch" href="/TIL/assets/js/24.c7d344f5.js"><link rel="prefetch" href="/TIL/assets/js/25.d22893c6.js"><link rel="prefetch" href="/TIL/assets/js/26.9fb1b0d8.js"><link rel="prefetch" href="/TIL/assets/js/27.dda84f1f.js"><link rel="prefetch" href="/TIL/assets/js/28.3ab5b666.js"><link rel="prefetch" href="/TIL/assets/js/29.d42c8096.js"><link rel="prefetch" href="/TIL/assets/js/3.84ac4caa.js"><link rel="prefetch" href="/TIL/assets/js/30.f9d98def.js"><link rel="prefetch" href="/TIL/assets/js/31.6bc10b87.js"><link rel="prefetch" href="/TIL/assets/js/32.36479b20.js"><link rel="prefetch" href="/TIL/assets/js/33.c587d1f0.js"><link rel="prefetch" href="/TIL/assets/js/34.81037ded.js"><link rel="prefetch" href="/TIL/assets/js/35.4f50a502.js"><link rel="prefetch" href="/TIL/assets/js/36.6a670234.js"><link rel="prefetch" href="/TIL/assets/js/37.0f046127.js"><link rel="prefetch" href="/TIL/assets/js/38.622d87eb.js"><link rel="prefetch" href="/TIL/assets/js/39.3cf50791.js"><link rel="prefetch" href="/TIL/assets/js/4.167807e0.js"><link rel="prefetch" href="/TIL/assets/js/40.6a1c9ace.js"><link rel="prefetch" href="/TIL/assets/js/41.217ae7a2.js"><link rel="prefetch" href="/TIL/assets/js/42.16a25459.js"><link rel="prefetch" href="/TIL/assets/js/43.9c802485.js"><link rel="prefetch" href="/TIL/assets/js/44.440fde88.js"><link rel="prefetch" href="/TIL/assets/js/45.dfdeead4.js"><link rel="prefetch" href="/TIL/assets/js/46.89fb6335.js"><link rel="prefetch" href="/TIL/assets/js/47.78f49587.js"><link rel="prefetch" href="/TIL/assets/js/48.5da3559b.js"><link rel="prefetch" href="/TIL/assets/js/49.96aa78c2.js"><link rel="prefetch" href="/TIL/assets/js/5.fc3234a3.js"><link rel="prefetch" href="/TIL/assets/js/50.47fc2fe5.js"><link rel="prefetch" href="/TIL/assets/js/51.fabb6cec.js"><link rel="prefetch" href="/TIL/assets/js/52.367f3a45.js"><link rel="prefetch" href="/TIL/assets/js/53.52909aff.js"><link rel="prefetch" href="/TIL/assets/js/54.4ad428f9.js"><link rel="prefetch" href="/TIL/assets/js/55.26ecbb0d.js"><link rel="prefetch" href="/TIL/assets/js/56.a05e0d08.js"><link rel="prefetch" href="/TIL/assets/js/57.7f561cab.js"><link rel="prefetch" href="/TIL/assets/js/58.087bb2a6.js"><link rel="prefetch" href="/TIL/assets/js/59.fbd25d08.js"><link rel="prefetch" href="/TIL/assets/js/6.518ee2d0.js"><link rel="prefetch" href="/TIL/assets/js/60.129b3daa.js"><link rel="prefetch" href="/TIL/assets/js/61.47d491be.js"><link rel="prefetch" href="/TIL/assets/js/62.87271754.js"><link rel="prefetch" href="/TIL/assets/js/63.c33fd54e.js"><link rel="prefetch" href="/TIL/assets/js/64.b701cfeb.js"><link rel="prefetch" href="/TIL/assets/js/65.241f81ff.js"><link rel="prefetch" href="/TIL/assets/js/66.4d74bd01.js"><link rel="prefetch" href="/TIL/assets/js/67.831c9f35.js"><link rel="prefetch" href="/TIL/assets/js/68.2d3b573b.js"><link rel="prefetch" href="/TIL/assets/js/69.0e7b9f3a.js"><link rel="prefetch" href="/TIL/assets/js/7.051d6399.js"><link rel="prefetch" href="/TIL/assets/js/70.4296ba43.js"><link rel="prefetch" href="/TIL/assets/js/71.d8240b05.js"><link rel="prefetch" href="/TIL/assets/js/72.f9d282db.js"><link rel="prefetch" href="/TIL/assets/js/73.25324cf0.js"><link rel="prefetch" href="/TIL/assets/js/74.eb127b10.js"><link rel="prefetch" href="/TIL/assets/js/75.912fb04d.js"><link rel="prefetch" href="/TIL/assets/js/76.57ad1631.js"><link rel="prefetch" href="/TIL/assets/js/77.3d2c5c69.js"><link rel="prefetch" href="/TIL/assets/js/78.36166415.js"><link rel="prefetch" href="/TIL/assets/js/79.1735c158.js"><link rel="prefetch" href="/TIL/assets/js/8.4ec9a116.js"><link rel="prefetch" href="/TIL/assets/js/80.6960a736.js"><link rel="prefetch" href="/TIL/assets/js/81.1649dd4c.js"><link rel="prefetch" href="/TIL/assets/js/82.a70b33af.js"><link rel="prefetch" href="/TIL/assets/js/83.b95cb33e.js"><link rel="prefetch" href="/TIL/assets/js/84.6c6725b7.js"><link rel="prefetch" href="/TIL/assets/js/85.44183873.js"><link rel="prefetch" href="/TIL/assets/js/86.04cd61d2.js"><link rel="prefetch" href="/TIL/assets/js/87.061c4baa.js"><link rel="prefetch" href="/TIL/assets/js/88.e569f19a.js"><link rel="prefetch" href="/TIL/assets/js/89.c1b0c377.js"><link rel="prefetch" href="/TIL/assets/js/9.c7a39460.js"><link rel="prefetch" href="/TIL/assets/js/90.5c8001f9.js"><link rel="prefetch" href="/TIL/assets/js/91.734d38e2.js"><link rel="prefetch" href="/TIL/assets/js/92.fa1dbd0f.js"><link rel="prefetch" href="/TIL/assets/js/93.ffde8ed3.js"><link rel="prefetch" href="/TIL/assets/js/94.a68b8b78.js"><link rel="prefetch" href="/TIL/assets/js/95.7684b2a7.js"><link rel="prefetch" href="/TIL/assets/js/96.49b936f5.js"><link rel="prefetch" href="/TIL/assets/js/97.106f747a.js"><link rel="prefetch" href="/TIL/assets/js/98.3e11d48e.js"><link rel="prefetch" href="/TIL/assets/js/99.ecd23323.js">
    <link rel="stylesheet" href="/TIL/assets/css/styles.5d865422.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/TIL/" class="home-link router-link-active"><!----><span class="site-name">
      Today I Learned
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/taegon/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://code.taegon.kr/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!----></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/taegon/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://code.taegon.kr/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!----></nav><ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>1. Bookmarks</span><span class="arrow down"></span></p><ul class="sidebar-group-items"><li><a href="/TIL/bookmark/blog-2020.html" class="sidebar-link">괜찮은 글 모음 (타임라인, 2020년)</a></li><li><a href="/TIL/bookmark/blog.html" class="sidebar-link">괜찮은 글 모음 (타임라인)</a></li><li><a href="/TIL/bookmark/programming.html" class="sidebar-link">프로그래밍 관련 북마크</a></li><li><a href="/TIL/bookmark/machine-learning.html" class="sidebar-link">머신 러닝 관련 북마크</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>2. Blog</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>3. Python</span><span class="arrow right"></span></p><!----></div></li></ul></div><div class="page"><div class="content"><h1 id="행정구역-병합하여-보여주기"><a href="#행정구역-병합하여-보여주기" aria-hidden="true" class="header-anchor">#</a> 행정구역 병합하여 보여주기</h1><h2 id="배경"><a href="#배경" aria-hidden="true" class="header-anchor">#</a> 배경</h2><p>county-level로 지도를 그리는데, 여러 카운티를 선택하는 경우, 선택된 지역을 병합하여 하나의 지역으로 보여주고 싶었다.
현재 연구 중인 도시에서의 육류 소비를 시각화하는 과정에서, metropolitan area를 표시해주어야 했다.
결론적으로 ​말하자면, Mike Bostoc의 예제를 그대로 따라하면 별 문제 없이 해결 가능하다.</p><h2 id="문제-해결"><a href="#문제-해결" aria-hidden="true" class="header-anchor">#</a> 문제 해결</h2><p>참고한 예제처럼 지도 데이터를 불러올 때, topojson.merge 함수를 이용하여 shape을 병합하면 된다.
대신 병합 이후에는 기존 인덱스가 작동하지 않기 때문에, 마우스 롤오버 같은 액션을 주고 싶으면, 인덱스를 알아내는 작업이 필요하다.
오늘은 읽어온 데이터에서 바로 하이라이트 해주는 방식으로 정리하였다.</p><h2 id="참고문헌"><a href="#참고문헌" aria-hidden="true" class="header-anchor">#</a> 참고문헌</h2><ul><li><a href="https://bl.ocks.org/mbostock/5416405" target="_blank" rel="noopener noreferrer">https://bl.ocks.org/mbostock/5416405<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><div class="page-edit"><!----><!----></div><!----></div></div></div>
    <script src="/TIL/assets/js/app.5d865422.js" defer></script><script src="/TIL/assets/js/118.8a35b174.js" defer></script>
  </body>
</html>
